PLUGINNAME = ResolveMathxtra

## Enable only one ##
#ENABLECUDA := TRUE
#ENABLEAMD := TRUE
CPU_ONLY := TRUE

INSTALL_PLUGIN := TRUE

UNAME_SYSTEM := $(shell uname -s)
ifeq ($(UNAME_SYSTEM), Darwin)
OS = macOS
endif
ifeq ($(UNAME_SYSTEM), Linux)
OS = CentOS
endif

CUDA_VERSION = 10.1

PLUGINOBJECTSCUDA = $(PLUGINNAME)PluginCPU.o
PLUGINOBJECTSAMD = $(PLUGINNAME)PluginCPU.o
PLUGINOBJECTSCPU = $(PLUGINNAME)PluginCPU.o
RESOURCES = BaldavengerOFX.$(PLUGINNAME).png

ifeq ($(UNAME_SYSTEM), Linux)
PLUGINOBJECTSCUDA = $(PLUGINNAME)PluginCPU.o
PLUGINOBJECTSAMD = $(PLUGINNAME)PluginCPU.o
endif

ifeq ($(ENABLECUDA), TRUE)
PLUGINOBJECTS = $(PLUGINOBJECTSCUDA) $(PLUGINOBJECTSEXTRA)
endif

ifeq ($(ENABLEAMD), TRUE)
PLUGINOBJECTS = $(PLUGINOBJECTSAMD) $(PLUGINOBJECTSEXTRA)
endif

ifeq ($(CPU_ONLY), TRUE)
PLUGINOBJECTS = $(PLUGINOBJECTSCPU) $(PLUGINOBJECTSEXTRA)
endif

TOP_SRCDIR = ..
include $(TOP_SRCDIR)/Makefile.master